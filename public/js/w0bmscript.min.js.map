{"version":3,"sources":["w0bmscript.js"],"names":[],"mappings":"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","file":"w0bmscript.min.js","sourcesContent":["function escapeHTML(str) {\n    return str.replace(/[&<>\"'`=\\/]/g, function(s) {\n        return {\n            '&': '&amp;',\n            '<': '&lt;',\n            '>': '&gt;',\n            '\"': '&quot;',\n            \"'\": '&#39;',\n            '/': '&#x2F;',\n            '`': '&#x60;',\n            '=': '&#x3D;'\n        }[s];\n    });\n}\n\nclass API {\n    static request(post, base, method, params, callback) {\n        $.ajax({\n            url: '/api/' + base + '/' + method,\n            method: post ? 'POST' : 'GET',\n            data: params,\n            success: cb => {\n                if(cb.error === 'null')\n                    callback(true, null, cb.warnings, cb);\n                else\n                    callback(false, this.responsify(cb.error), cb.warnings, cb);\n            },\n            error: cb => callback(false, null, null, cb)\n        });\n    }\n    static responsify(response) {\n        var r = (type, text) => ({type: type, text: text});\n        return {\n            not_logged_in: r('error', 'Not logged in'),\n            invalid_request: r('error', 'Invalid request'),\n            video_not_found: r('error', 'Video not found. Perhaps it has already been deleted'),\n            insufficient_permissions: r('error', 'Insufficient permissions'),\n            no_tags_specified: r('info', 'No tags specified')\n        }[response];\n    }\n}\n\nclass Video {\n    constructor() {\n        let match = location.href.match(/(\\d+)(?!.*\\/.)/);\n        if(!match) return;\n        this.id = match[1];\n        this.user = $('.fa-info-circle').next().children().text().trim();\n        this.tags = $.makeArray($('#tag-display').children().children()).map(el => el.innerText).filter(tag => !!tag);\n        this.api = 'video';\n        this.apiBase = this.api + '/' + this.id;\n    }\n    tag(tags, callback) {\n        var _this = this;\n        function preCallback(success, error, warnings, cb) {\n            if(success) {\n                _this.tags = [];\n                _this.tags = cb.tags.map(tag => tag.name);\n            }\n            callback(success, error, warnings, cb);\n        }\n        tags.length ? API.request(true, this.apiBase, 'tag', {tags: tags}, preCallback) : callback(false, API.responsify('no_tags_specified'), null, null);\n    }\n    untag(tag, callback) {\n        var _this = this;\n        function preCallback(success, error, warnings, cb) {\n            if(success) {\n                _this.tags = [];\n                _this.tags = cb.tags.map(tag => tag.name);\n            }\n            callback(success, error, warnings, cb);\n        }\n        tag = tag.trim();\n        !!tag ? API.request(true, this.apiBase, 'untag', {tag: tag}, preCallback) : callback(false, API.responsify('invalid_request'), null, null);\n    }\n    delete(reason, callback) {\n        reason = reason.trim();\n        !!reason ? API.request(true, this.apiBase, 'delete', {reason: reason}, callback) : callback(false, API.responsify('invalid_request'), null, null);\n    }\n}\n\nvar video;\n$(function() {\n    video = new Video();\n    if(!video.id) video = null;\n});\n\n//CSRF Token AjaxSetup\n$(function() {\n    $.ajaxSetup({\n        headers: {\n            'X-CSRF-TOKEN': $('meta[name=\"_token\"]').attr('content')\n        }\n    });\n});\n\nfunction flash(type, message) {\n    var html = '<div class=\"alert alert-:TYPE: alert-dismissable\" role=\"alert\"><button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-label=\"Close\"><span aria-hidden=\"true\">&times;</span></button>:REPLACE:</div>';\n    var alerts = $('.flashcontainer > .container');\n    if(type === 'error') type = 'danger';\n    alerts.append(html.replace(/:TYPE:/, type).replace(/:REPLACE:/, message));\n    alertrm(jQuery);\n}\n\nwindow.requestAnimFrame = (function(){\n    return window.requestAnimationFrame\n            || window.webkitRequestAnimationFrame\n            || window.mozRequestAnimationFrame\n            || function(callback) { window.setTimeout(callback, 1000 / 60);};\n})();\n\nArray.prototype.average = function() {\n    var sum = 0;\n    for(var i = 0; i < this.length; i++)\n        sum += this[i];\n    return sum / this.length;\n};\n\nvar videoElem = document.getElementById('video');\nif(videoElem !== null) {\n    if($.browser.mobile) {\n        let src_split = document.querySelector(\"video > source:first-child\").src.split(\"/\");\n        src_split = src_split[src_split.length - 1];\n        videoElem.setAttribute(\"poster\", \"//w0bm.com/thumbs/\" + src_split.replace(\".webm\", \".gif\"));\n    }\n    var player = videojs(videoElem, {\n        controls: true,\n\tautoplay: true,\n        playbackRates: [0.25, 0.5, 1, 1.5, 2],\n        inactivityTimeout: 850,\n        controlBar: {\n            children: {\n                'progressControl': {},\n                'playToggle': {},\n                'MuteToggle': {},\n                'volumeControl': {},\n                'currentTimeDisplay': {},\n                'timeDivider': {},\n                'durationDisplay': {},\n                'CustomControlSpacer': {},\n                'playbackRateMenuButton': {},\n                'fullscreenToggle': {}\n            }\n        }\n    }, function() {\n        this.addClass('video-js');\n        this.volume(0.3);\n        this.muted(false);\n        if (typeof localStorage != \"undefined\") {\n            this.volume(Math.abs(localStorage.getItem(\"volume\") || 0.3));\n            // 1/x to detect the special case of -0 for saving volume level 0 and the mute button being activated\n            this.muted(0 > 1/(localStorage.getItem(\"volume\") || 0.3));\n            this.on(\"volumechange\", function () {\n                localStorage.setItem(\"volume\", (this.volume() * (this.muted() ? -1 : 1)));\n            });\n        }\n    });\n\n//player.on('mouseout', function(){ this.userActive(false) });\n\n    //videojs fix for firefox\n    if(player.autoplay() && !player.paused() && player.hasClass('vjs-paused')) {\n        player.pause();\n        player.play();\n    }\n\n    if($.browser.mobile) {\n        document.addEventListener(\"fullscreenerror\", function(e) {\n            console.error(\"Fullscreen denied\", JSON.stringify(e));\n        });\n        window.screen.orientation.onchange = function() {\n            if(this.type.startsWith(\"landscape\"))\n                player.requestFullscreen();\n            else\n                player.exitFullscreen();\n            if(!document.fullscreenElement)\n                console.error(\"No fullscreen after request\");\n        };\n    }\n\n    if(localStorage.getItem('background') == undefined) {\n        if($.browser.mobile)\n            localStorage.setItem('background', 'false');\n        else\n            localStorage.setItem('background', 'true');\n    }\n    var background = localStorage.getItem('background') === 'true';\n\n    var canvas = document.getElementById('bg');\n    var context = canvas.getContext('2d');\n    var cw = canvas.width = canvas.clientWidth | 0;\n    var ch = canvas.height = canvas.clientHeight | 0;\n\n    if(!background)\n        $(canvas).css('display', 'none');\n\n    function animationLoop() {\n        if(videoElem.paused || videoElem.ended || !background)\n            return;\n        context.drawImage(videoElem, 0, 0, cw, ch);\n        window.requestAnimFrame(animationLoop);\n    }\n\n    videoElem.addEventListener('play', animationLoop);\n\n    $('#togglebg').on('click', function (e) {\n        e.preventDefault();\n        background = !background;\n        localStorage.setItem('background', background.toString());\n        if(background)\n            $(canvas).css('display', 'block');\n        else\n            $(canvas).css('display', 'none');\n        animationLoop();\n    });\n\n\n    function getNext() {\n        var next = $('#next');\n        if(next.css('visibility') != 'hidden') {\n            next.get(0).click();\n        }\n    }\n\n    function getPrev() {\n        var prev = $('#prev');\n        if(prev.css('visibility') != 'hidden') {\n            prev.get(0).click();\n        }\n    }\n\n    //Key Bindings\n    $(document).on('keydown', function(e) {\n        if(e.defaultPrevented || e.target.nodeName.match(/\\b(input|textarea)\\b/i) || e.ctrlKey || e.altKey || e.shiftKey)\n            return;\n\n        //arrow keys\n        else if(e.keyCode == 39)\n            getNext();\n        else if(e.keyCode == 37)\n            getPrev();\n\n        //gamer-style\n        else if(e.keyCode == 65)\n            getPrev();\n        else if(e.keyCode == 68)\n            getNext();\n\n        //vi style\n        else if(e.keyCode == 72)\n            getPrev();\n        else if(e.keyCode == 76)\n            getNext();\n\n        else if(e.keyCode == 82) //click random\n            $('#prev').next().get(0).click();\n\n        else if(e.keyCode == 70) //add fav\n            $('#fav').get(0).click();\n\n        else if(e.keyCode == 67) //toggle comments\n            $(\".aside\").fadeToggle(localStorage.comments = !(localStorage.comments == \"true\"));\n\n        else if(e.keyCode == 87 || e.keyCode == 38)\n            player.volume(player.volume() + 0.1);\n\n        else if(e.keyCode == 83 || e.keyCode == 40)\n            player.volume(player.volume() - 0.1);\n\n        else if(e.keyCode == 32)\n            player.paused() ? player.play() : player.pause();\n    });\n\n    $('.wrapper > div:not(.aside)').on('wheel', function(e) {\n        if(e.ctrlKey || e.altKey || e.shiftKey)\n            return;\n        e.preventDefault();\n        e.originalEvent.deltaY > 0 ? getNext() : getPrev();\n    });\n} else {\n    var canvas = document.getElementById('bg');\n    canvas.parentNode.removeChild(canvas);\n}\n\nfunction commentClickableTimestamp(e) {\n    e.preventDefault();\n    if(!player) return;\n    var match = $(e.target).text().match(/(\\d{1,2}):(\\d{2})/);\n    if(match) {\n        var seek = parseInt(match[1]) * 60 + parseInt(match[2]);\n        if(seek <= player.duration()) player.currentTime(seek);\n    }\n}\n\n\n$(function() {\n    $('.comment_clickable_timestamp').on('click', commentClickableTimestamp);\n});\n\n\n(function ($) {\n    // Comments\n    var commentform = $('#commentForm > form');\n    let lastComment = \"\";\n    commentform.on('submit', function (e) {\n        e.preventDefault();\n\n        // double comment prevention:\n        const data = commentform.serialize();\n        if (data == lastComment) {\n            alert(\"nope. just don't. seriously... don't.\");\n            return false;\n        }\n        lastComment = data;\n\n        $.ajax({\n            type: 'POST',\n            url: commentform.attr('action'),\n            data: data\n        }).done(function (data) {\n            $('.nocomments').remove();\n            var comment = $(data).appendTo('.commentwrapper').find('time.timeago');\n            comment.timeago();\n            comment.tooltip();\n            comment.closest('.panel-footer').siblings('.panel-body').find('.comment_clickable_timestamp').on('click', commentClickableTimestamp);\n            var textarea = commentform.find('textarea').val('');\n            textarea.blur();\n        }).fail(function(){\n            flash('error', 'Error saving comment');\n        });\n    });\n\n    //Tags\n    let tagsinput = $('#tags'),\n        submit = $('#submittags'),\n        tagdisplay = $('#tag-display');\n\n    function tagmd() {\n        let elReplace = (el, regex, fn) => el.innerHTML = el.innerHTML.replace(regex, fn);\n        tagdisplay.children().children(':first-of-type').each((i, el) => {\n            elReplace(el, /^nsfw$/i, x => '<span style=\"color: red;\">' + x + '</span>');\n            elReplace(el, /^sfw$/i, x => '<span style=\"color: #23ff00;\">' + x + '</span>');\n        });\n    }\n    tagmd();\n\n    function tagDeleteHandler(e) {\n        e.preventDefault();\n        if(!confirm('Do you really want to delete this tag?')) return;\n        video.untag($(this).siblings().text(), (success, error, warnings, cb) => {\n            if(success) {\n                flash('success', 'Tag successfully deleted');\n                let tags = [];\n                for(let tag of cb.tags)\n                    tags.push('<span class=\"label label-default\"><a href=\"/index?q=' + tag.normalized + '\" class=\"default-link\">' + escapeHTML(tag.name) + '</a> <a class=\"delete-tag default-link\" href=\"#\"><i class=\"fa fa-times\"></i></a></span>');\n                tagdisplay.empty();\n                tagdisplay.append(tags.join(\" \"));\n                $('.delete-tag').on('click', tagDeleteHandler);\n                tagmd();\n            }\n            else\n                flash('error', 'Error deleting tag');\n        });\n    }\n\n    $('.delete-tag').on('click', tagDeleteHandler);\n\n    $('#tags, #filter, #tags_upload').on('itemAdded', e => setTimeout(() => $(e.currentTarget).siblings('.bootstrap-tagsinput').children('input').val(''), 0));\n\n    tagsinput.on('beforeItemAdd', e => {\n        for(let tag of video.tags) {\n            if(tag.toLowerCase() === e.item.toLowerCase()) {\n                e.cancel = true;\n                flash('info', 'Tag already exists');\n                return;\n            }\n        }\n    });\n    submit.on('click touchdown', e => {\n        e.preventDefault();\n        video.tag(tagsinput.tagsinput('items'), (success, error, warnings, cb) => {\n            if(success) {\n                $('#tag-add-toggle').prop('checked', false);\n                var tags = [];\n                for(let tag of cb.tags)\n                    tags.push('<span class=\"label label-default\"><a href=\"/index?q=' + tag.normalized + '\" class=\"default-link\">' + escapeHTML(tag.name) + '</a>' + (cb.can_edit_video ? ' <a class=\"delete-tag default-link\" href=\"#\"><i class=\"fa fa-times\"></i></a>' : '') + '</span>');\n                tagdisplay.empty();\n                tagdisplay.append(tags.join(\" \"));\n                tagsinput.tagsinput('removeAll');\n                $('.delete-tag').on('click', tagDeleteHandler);\n                tagmd();\n            }\n            else\n                flash('error', 'Error saving tag(s)');\n        });\n    });\n\n    // Filter\n    var filter = $('#filter'),\n        submitfilter = $('#submitfilter');\n    submitfilter.on('click touchdown', function(e) {\n        e.preventDefault();\n        $.ajax({\n            type: 'POST',\n            url: submitfilter.attr('href'),\n            data: filter.serialize()\n        }).done(function() {\n            flash('success', 'Filter successfully updated');\n            $('#filterselectmodal').modal('hide');\n        }).fail(function(data) {\n            flash('error', 'Error updating filter');\n        });\n    });\n})(jQuery);\n\n(function ($) {\n    function updaterow(ctx, video) {\n        if($('video').length) {\n            var info = [];\n            if(video.interpret) {\n                info.push(' <strong>Artist:</strong> ' + video.interpret);\n            }\n            if(video.songtitle) {\n                info.push(' <strong>Songtitle:</strong> ' + video.songtitle);\n            }\n            if(video.imgsource) {\n                info.push(' <strong>Video Source:</strong> ' + video.imgsource);\n            }\n            if(video.category.name) {\n                info.push(' <strong>Category:</strong> ' + video.category.name);\n            }\n            $('span.fa-info-circle').attr('data-content', info.join('<br>'));\n        }\n        else {\n            var row = ctx.parents('tr');\n            row.find('span').show();\n            row.find('input, select').hide();\n            row.find('.vinterpret').html(video.interpret || '');\n            row.find('.vsongtitle').html(video.songtitle || '');\n            row.find('.vimgsource').html(video.imgsource || '');\n            row.find('.vcategory').html('<a href=\"/' + video.category.shortname + '\">' + video.category.name + '</a>');\n        }\n    }\n\n    var indexform = $('.indexform, #webmedit');\n    $('.indexedit').find('input, select').hide();\n    if(indexform.length) {\n        var row = $('tr');\n        row.on('dblclick touchdown', function(e) {\n            var self = $(this);\n            self.find('input, select').show();\n            self.find('span').hide();\n        });\n    }\n    indexform.on('submit', function (e) {\n        var self = $(this);\n        e.preventDefault();\n        $.ajax({\n            type: 'POST',\n            url: self.attr('action'),\n            data: self.serialize()\n        }).done(function (data) {\n            flash('success', 'Video successfully updated');\n            updaterow(self, data);\n            self.find('#webmeditmodal').modal('hide');\n        }).fail(function(){\n            flash('error', 'Error updating video');\n            self.find('#webmeditmodal').modal('hide');\n        });\n    });\n})(jQuery);\n\n\n(function ($) {\n    var favBtn = $('#fav');\n    favBtn.on('click touchdown', function (e) {\n        e.preventDefault();\n        $.ajax({\n            type: 'GET',\n            url: favBtn.attr('href')\n        }).done(function () {\n            var icon = favBtn.find('i');\n            if(icon.hasClass('fa-heart-o')) {\n                icon.removeClass('fa-heart-o');\n                icon.addClass('fa-heart');\n            } else {\n                icon.removeClass('fa-heart');\n                icon.addClass('fa-heart-o');\n            }\n        });\n    })\n})(jQuery);\n\n(function ($) {\n    $('#togglebg').on('click touchdown', function (e) {\n        e.preventDefault();\n        $.ajax({\n            dataType: 'json',\n            url: $(this).attr('href'),\n            data: {}\n        }).done(function () {\n            $('#bg').toggle();\n        });\n    });\n})(jQuery);\n\n(function ($) {\n    $(':not(form)[data-confirm]').on('click touchdown', function () {\n        return confirm($(this).data('confirm'));\n    });\n})(jQuery);\n\n(function ($) {\n    $(\".commentwrapper, .tags\").mCustomScrollbar({\n        axis: 'y',\n        theme: 'minimal',\n        scrollInertia: 0\n    });\n})(jQuery);\n\nvar alertrm = function ($) {\n    $('.alert').each(function (index) {\n        $(this).delay(3000 + index * 1000).slideUp(300, function() { $(this).remove(); });\n    });\n};\nalertrm(jQuery);\n\n$('#categories').imagesLoaded(function () {\n    $('#categories').isotope({\n        itemSelector: '.category',\n        percentPosition: true,\n        layoutMode: 'masonry'\n    });\n});\n\n$(function() {\n    $('[data-toggle=\"popover\"]').popover({\n        html: true,\n        trigger: 'manual',\n        container: $(this).attr('id'),\n        placement: 'top',\n    }).on('mouseenter', function () {\n        var _this = this;\n        $(this).popover('show');\n        $(this).siblings('.popover').on('mouseleave', function () {\n            $(_this).popover('hide');\n        });\n    }).on('mouseleave', function () {\n        var _this = this;\n        setTimeout(function () {\n            if (!$('.popover:hover').length) {\n                $(_this).popover('hide')\n            }\n        }, 100);\n    });\n});\n\n// kadse :D greetz gz\n(function() {\n    new Image().src = \"/images/catfart/cutf.png\";\n    var n = document.createElement(\"div\");\n    var a = new Audio();\n\n    a.addEventListener(\"pause\", function () {\n        n.setAttribute(\"class\", \"catfart\");\n    });\n\n    a.addEventListener(\"play\", function () {\n        n.setAttribute(\"class\", \"catfart farting\");\n    });\n\n    n.addEventListener(\"mouseover\", function () {\n        if (!a.paused) return;\n        a.src = \"/images/catfart/pupsi\" + (Math.random()*28|0) + \".mp3\";\n        a.play();\n    });\n\n    n.setAttribute(\"class\", \"catfart\");\n    document.body.appendChild(n);\n})();\n\n(function() {\n    var v = document.getElementById(\"video\");\n    if (v == null) return;\n    var p = v.parentNode;\n    p.style.marginBottom = \"3px\";\n\n    var bar = document.createElement(\"div\");\n    var outerBar = document.createElement(\"div\");\n    outerBar.appendChild(bar);\n    p.appendChild(outerBar);\n\n    $(outerBar).css({\n        height: \"3px\", width: \"100%\",\n        overflow: \"hidden\", willChange: \"transform\",\n        position: \"absolute\", bottom: \"0\"\n    });\n\n    $(bar).css({\n        height: \"inherit\", width: \"inherit\",\n        position: \"absolute\", transform: \"translateX(-100%)\",\n        backgroundColor: \"rgba(31, 178, 176, 0.4)\"\n    });\n\n    var update = function () {\n        requestAnimationFrame(update);\n        if (v.paused) return;\n        var perc = 100 / v.duration * v.currentTime;\n        bar.style.transform = \"translateX(\"+(-100 + perc)+\"%)\";\n    };\n    update();\n})();\n\n\n(function($) {\n    var comments = localStorage.comments;\n    if (comments === undefined) localStorage.comments = true;\n    comments = comments === undefined || comments === \"true\";\n    $(\".aside\").toggle(comments);\n    $(\"#toggle\").click(function(){$(\".aside\").fadeToggle(localStorage.comments = !(localStorage.comments == \"true\"))});\n})(jQuery);\n\n\n$(function() {\n    function get_loc(e) {\n        return [\n            (e.clientX + $('div#thumb').width() >= $(window).width() - 10) ? e.pageX - 5 - $('div#thumb').width() : e.pageX + 5,\n            (e.clientY + $('div#thumb').height() >= $(window).height() - 10) ? e.pageY - 5 - $('div#thumb').height() : e.pageY + 5\n        ];\n    }\n\n    $('[data-thumb]').on('mouseenter', function(e) {\n        var id = $(this).data('thumb');\n        var lnk = '/thumbs/' + id + '.gif';\n        var loc = get_loc(e);\n        $(document.body).prepend('<div id=\"thumb\"></div>');\n        $('div#thumb').prepend('<img id=\"thumb\"/>');\n        $('img#thumb').text('Loading...');\n        $('div#thumb').css({\n            'position': 'absolute',\n            'left': loc[0],\n            'top': loc[1],\n            'z-index': '5',\n            'border': '1px white solid',\n            'box-shadow': '5px 5px 7px 0px rgba(0,0,0,0.75)',\n            'color': 'white',\n            'background-color': '#181818'\n        });\n        var img = $('img#thumb');\n        var thumb = $('<img/>');\n        thumb.load(function() {\n            img.attr(\"src\", $(this).attr(\"src\"));\n            loc = get_loc(e);\n            $('div#thumb').css({\n                'left': loc[0],\n                'top': loc[1]\n            });\n        });\n        thumb.attr(\"src\", lnk);\n    }).on('mousemove', function(e) {\n        $('div#thumb').css({\n            'left': get_loc(e)[0],\n            'top': get_loc(e)[1]\n        });\n    }).on('mouseleave', function() {\n        $('#thumb').remove();\n    });\n});\n\n//Pagination\nvar paginate = function(pagination, options) {\n    var type = options.hash.type || 'middle';\n    var ret = '';\n    var pageCount = Number(pagination.pageCount);\n    var page = Number(pagination.page);\n    var limit;\n    if (options.hash.limit) limit = +options.hash.limit;\n    //page pageCount\n    var newContext = {};\n    switch (type) {\n        case 'middle':\n            if (typeof limit === 'number') {\n                var i = 0;\n                var leftCount = Math.ceil(limit / 2) - 1;\n                var rightCount = limit - leftCount - 1;\n                if (page + rightCount > pageCount)\n                    leftCount = limit - (pageCount - page) - 1;\n                if (page - leftCount < 1)\n                    leftCount = page - 1;\n                var start = page - leftCount;\n                while (i < limit && i < pageCount) {\n                    newContext = { n: start };\n                    if (start === page) newContext.active = true;\n                    ret = ret + options.fn(newContext);\n                    start++;\n                    i++;\n                }\n            }\n            else {\n                for (var i = 1; i <= pageCount; i++) {\n                    newContext = { n: i };\n                    if (i === page) newContext.active = true;\n                    ret = ret + options.fn(newContext);\n                }\n            }\n            break;\n        case 'previous':\n            if (page === 1) {\n                newContext = { disabled: true, n: 1 }\n            }\n            else {\n                newContext = { n: page - 1 }\n            }\n            ret = ret + options.fn(newContext);\n            break;\n        case 'next':\n            newContext = {};\n            if (page === pageCount) {\n                newContext = { disabled: true, n: pageCount }\n            }\n            else {\n                newContext = { n: page + 1 }\n            }\n            ret = ret + options.fn(newContext);\n            break;\n        case 'first':\n            if (page === 1) {\n                newContext = { disabled: true, n: 1 }\n            }\n            else {\n                newContext = { n: 1 }\n            }\n            ret = ret + options.fn(newContext);\n            break;\n        case 'last':\n            if (page === pageCount) {\n                newContext = { disabled: true, n: pageCount }\n            }\n            else {\n                newContext = { n: pageCount }\n            }\n            ret = ret + options.fn(newContext);\n            break;\n    }\n    return ret;\n};\n\n\n//enable bootstrap tooltips and timeago\n$(function () {\n    var s = $.timeago.settings;\n    var str = s.strings;\n    s.refreshMillis = 1000;\n    s.allowFuture = true;\n    s.localeTitle = true;\n    //same format as laravel diffForHumans()\n    str.seconds = \"%d seconds\";\n    str.minute = \"1 minute\";\n    str.hour = \"1 hour\";\n    str.hours = \"%d hours\";\n    str.day = \"1 day\";\n    str.month = \"1 month\";\n    str.year = \"1 year\";\n    str.suffixFromNow = null;\n    $('time.timeago').timeago();\n    $('[data-toggle=\"tooltip\"]').tooltip();\n});\n\n// Notifications\nvar messagesBadge = $('ul.navbar-right > li > a > span.badge');\nvar activeMessage;\nif(messagesBadge.text() > 0) {\n    messagesBadge.css('visibility', 'visible');\n}\n\nif(/\\/user\\/.+\\/comments/i.test(location.href)) {\n    //Comment View\n    (function($) {\n        if(typeof Handlebars == \"undefined\") return; // only on profilelayout\n\n        Handlebars.registerHelper('paginate', paginate);\n\n        var comlist = Handlebars.compile($('#comlist').html());\n        var pagination = Handlebars.compile($('#paginationtmpl').html());\n        var jsondata = {};\n        var username = location.href.match(/\\/user\\/(.+)\\/comments/i)[1];\n\n        var getMessages = function(url) {\n            var baseUrl = '/api/comments';\n            if(!url) url = baseUrl;\n\n            $.getJSON(url, { 'username': username })\n                .done(function(data) {\n                    $('.spinner').hide();\n                    jsondata = data;\n                    $('#list').html(comlist(data));\n                    $('time.timeago').timeago();\n                    $('time[data-toggle=\"tooltip\"]').tooltip();\n                    var page = {\n                        pagination: {\n                            page: data.current_page,\n                            pageCount: data.last_page\n                        }\n                    };\n\n                    $('#pagination').html(pagination(page));\n\n                    $('#pagination a').on('click touchdown', function(e) {\n                        e.preventDefault();\n                        getMessages(baseUrl + '?page=' + $(this).data('page'));\n                    });\n            });\n        };\n        getMessages();\n    })(jQuery);\n}\nelse {\n    (function($) {\n        if(typeof Handlebars == \"undefined\" || !$('#msglist').length) return; // only on profilelayout\n\n        Handlebars.registerHelper('paginate', paginate);\n\n\n        var msglist = Handlebars.compile($('#msglist').html());\n        var msgtmpl = Handlebars.compile($('#msgtmpl').html());\n        var pagination = Handlebars.compile($('#paginationtmpl').html());\n        var jsondata = {};\n\n        var getMessages = function(url) {\n            var baseUrl = '/api/messages';\n            if(!url) url = baseUrl;\n\n            $.getJSON(url)\n                .done(function(data) {\n                    $('.spinner').hide();\n                    jsondata = data;\n                    $('#list').html(msglist(data));\n                    if(typeof activeMessage != \"undefined\") $('#listitems a[data-id=\"' + activeMessage + '\"]').addClass('active');\n\n                    var page = {\n                        pagination: {\n                            page: data.current_page,\n                            pageCount: data.last_page\n                        }\n                    };\n\n                    $('#pagination').html(pagination(page));\n\n                    $('#pagination a').on('click touchdown', function(e) {\n                        e.preventDefault();\n                        getMessages(baseUrl + '?page=' + $(this).data('page'));\n                    });\n\n                    $('#listitems a').on('click touchdown', function(e) {\n                        e.preventDefault();\n                        var self = $(this);\n                        var i = self.data('index');\n                        activeMessage = $(this).data('id');\n\n                        $('#message').html(msgtmpl(jsondata.data[i]));\n                        if(!jsondata.data[i].read) {\n\n                            $.post('/api/messages/read','m_ids[]=' + self.data('id'))\n                                .done(function(data) {\n                                    self.removeClass('list-group-item-info');\n                                    messagesBadge.text(messagesBadge.text() - 1);\n                                    if(messagesBadge.text() <= 0) {\n                                        messagesBadge.css('visibility', 'hidden');\n                                    }\n                                });\n\n                        }\n                        $('a').removeClass('active');\n                        self.addClass('active');\n                        $('time.timeago').timeago();\n                        $('time[data-toggle=\"tooltip\"]').tooltip();\n                    });\n                });\n        };\n        getMessages();\n    })(jQuery);\n}\n\nfunction readAll() {\n    $.ajax({\n        url: '/api/messages/readall',\n        success: function(data) {\n            if(data == 1) {\n                flash('success', 'Marked all messages as read');\n                $('.list-group-item-info').removeClass('list-group-item-info');\n                messagesBadge.text('0');\n                messagesBadge.css('visibility', 'hidden');\n            }\n            else {\n                flash('error', 'Failed to mark all messages as read');\n            }\n        },\n        error: function(jqxhr, status, error) {\n            flash('error', 'Failed to mark all messages as read');\n        }\n    });\n}\n\n$('ul.dropdown-menu').on('click touchdown', function(e) {\n    e.stopPropagation();\n});\n\nfunction deleteComment(self) {\n    var comment = self.closest('div[data-id]');\n    var id = comment.data('id');\n    var username = $(comment.children('.panel-footer').children('a')[0]).text();\n    do {\n        var reason = prompt('Reason for deleting comment ' + id + ' by ' + username);\n        if(reason === null)\n            return;\n        reason = reason.trim();\n    } while(!reason);\n    $.ajax({\n        url: '/api/comments/' + id + '/delete',\n        method: 'POST',\n        data: { reason: reason },\n        success: function(retval) {\n            if(retval == 'success') {\n                flash('success', 'Comment deleted');\n                comment.removeClass('panel-default').addClass('panel-danger');\n                comment.find('.panel-footer').children('a[onclick=\"deleteComment($(this))\"]').replaceWith('<a href=\"#\" onclick=\"restoreComment($(this))\"><i style=\"color:green\"; class=\"fa fa-refresh\" aria-hidden=\"true\"></i></a>');\n                comment.find('.panel-footer > a[onclick=\"editComment($(this))\"]').remove();\n            }\n            else if(retval == 'invalid_request') flash('error', 'Invalid request');\n            else if(retval == 'not_logged_in') flash('error', 'Not logged in');\n            else if(retval == 'insufficient_permissions') flash('error', 'Insufficient permissions');\n            else flash('error', 'Error deleting comment');\n        },\n        error: function(jqxhr, status, error) {\n            flash('error', 'Error deleting comment');\n        }\n    });\n}\n\nfunction restoreComment(self) {\n    var comment = self.closest('div[data-id]');\n    var id = comment.data('id');\n    var username = $(comment.children('.panel-footer').children('a')[0]).text();\n    do {\n        var reason = prompt('Reason for restoring comment ' + id + ' by ' + username);\n        if(reason === null)\n            return;\n        reason = reason.trim();\n    } while(!reason);\n    $.ajax({\n        url: '/api/comments/' + id + '/restore',\n        method: 'POST',\n        data: { reason: reason },\n        success: function(retval) {\n            if(retval == 'success') {\n                flash('success', 'Comment restored');\n                comment.removeClass('panel-danger').addClass('panel-default');\n                comment.find('.panel-footer').children('a[onclick]').replaceWith('<a href=\"#\" onclick=\"deleteComment($(this))\"><i style=\"color:red\"; class=\"fa fa-times\" aria-hidden=\"true\"></i></a> <a href=\"#\" onclick=\"editComment($(this))\"><i style=\"color:cyan;\" class=\"fa fa-pencil-square\" aria-hidden=\"true\"></i></a>');\n            }\n            else if(retval == 'invalid_request') flash('error', 'Invalid request');\n            else if(retval == 'not_logged_in') flash('error', 'Not logged in');\n            else if(retval == 'insufficient_permissions') flash('error', 'Insufficient permissions');\n            else if(retval == 'comment_not_deleted') flash('error', 'Comment is not deleted');\n            else flash('error', 'Error restoring comment');\n        },\n        error: function(jqxhr, status, error) {\n            flash('error', 'Error restoring comment');\n        }\n    });\n}\n\nfunction editComment(self) {\n    var comment = self.closest('div[data-id]');\n    var body = comment.find('.panel-body');\n    var id = comment.data('id');\n    $.ajax({\n        url: '/api/comments/' + id,\n        success: function(retval) {\n            if(retval.error == 'null') {\n                var textarea = $('<textarea class=\"form-control\">');\n                body.replaceWith(textarea);\n                textarea.val($('<div>').html(retval.comment).text());\n                self.prev().remove();\n                self.replaceWith('<a href=\"#\" class=\"saveCommentEdit\"><i class=\"fa fa-floppy-o\" aria-hidden=\"true\"></i></a> <a href=\"#\" class=\"abortCommentEdit\"><i style=\"color:red;\" class=\"fa fa-ban\" aria-hidden=\"true\"></i></a>');\n                comment.find('.abortCommentEdit').on('click', function(e) {\n                    e.preventDefault();\n                    $(this).prev().remove();\n                    $(this).replaceWith('<a href=\"#\" onclick=\"deleteComment($(this))\"><i style=\"color:red\"; class=\"fa fa-times\" aria-hidden=\"true\"></i></a> <a href=\"#\" onclick=\"editComment($(this))\"><i style=\"color:cyan;\" class=\"fa fa-pencil-square\" aria-hidden=\"true\"></i></a>');\n                    textarea.replaceWith(body);\n                });\n                comment.find('.saveCommentEdit').on('click', function(e) {\n                    e.preventDefault();\n                    var _this = $(this);\n                    $.ajax({\n                        url: '/api/comments/' + id + '/edit',\n                        method: 'POST',\n                        data: { comment: textarea.val() },\n                        success: function(retval) {\n                            if(retval.error == 'null') {\n                                body.html(retval.rendered_comment);\n                                flash('success', 'Comment edited successfully');\n                                body.find('.comment_clickable_timestamp').on('click', commentClickableTimestamp);\n                            }\n                            else if(retval.error == 'invalid_request')\n                                flash('error', 'Invalid request was sent by your browser');\n                            else if(retval.error == 'not_logged_in')\n                                flash('error', 'Not logged in');\n                            else if(retval.error == 'insufficient_permissions')\n                                flash('error', 'Insufficient permissions');\n                            else if(retval.error == 'comment_not_found')\n                                flash('error', 'Comment does not exist');\n                            else\n                                flash('error', 'Error editing comment');\n                        },\n                        error: function(jqxhr, status, error) {\n                            flash('error', 'Error editing comment');\n                        },\n                        complete: function() {\n                            textarea.replaceWith(body);\n                            _this.next().remove();\n                            _this.replaceWith('<a href=\"#\" onclick=\"deleteComment($(this))\"><i style=\"color:red\"; class=\"fa fa-times\" aria-hidden=\"true\"></i></a> <a href=\"#\" onclick=\"editComment($(this))\"><i style=\"color:cyan;\" class=\"fa fa-pencil-square\" aria-hidden=\"true\"></i></a>');\n                        }\n                    });\n                });\n            }\n            else if(retval.error == 'comment_not_found')\n                flash('error', 'Comment does not exist');\n            else\n                flash('error', 'Error editing comment');\n        },\n        error: function(jqxhr, status, error) {\n            flash('error', 'Failed receiving non-rendered comment from API');\n        }\n    });\n}\n\n/*$(function () {\n    var cBar = $('.vjs-control-bar');\n    var cBarStatus = false;\n    $('video').on('mousemove', function () {\n        if(cBarStatus) return;\n        cBar.css('display', 'flex');\n        cBarStatus = true;\n    }).on('mouseleave', function (e) {\n        if($(e.relatedTarget).is('[class^=\"vjs\"]') || !cBarStatus) return;\n        cBar.hide();\n        cBarStatus = false;\n    });\n    $('[class^=\"vjs\"]').on('mouseleave', function (e) {\n        if(e.relatedTarget == $('video').get(0) || $(e.relatedTarget).is('[class^=\"vjs\"]') || !cBarStatus) return;\n        cBar.hide();\n        cBarStatus = false;\n    });\n});*/\n\n//upload\n$(function() {\n    if(!/\\/upload/.test(location.href))\n        return;\n    var defaultPreview = $('#dragndrop-text').html();\n    var defaultDragNDropColor = $('#dragndrop').css('color');\n    var defaultDragNDropBorderColor = $('#dragndrop').css('border-left-color');\n    var defaultDragNDropBackgroundColor = $('#dragndrop').css('background-color');\n    var counter = 0;\n    var currentFile;\n    var jqXHR;\n    var tags = $('#tags_upload');\n    var nsfwCheckbox = $('#nsfw');\n    function applyDefaultDragNDropCSS() {\n        $('#dragndrop').css({\n            'color': defaultDragNDropColor,\n            'border-color': defaultDragNDropBorderColor,\n            'background-color': defaultDragNDropBackgroundColor\n        });\n    }\n    function humanFileSize(size) {\n        var i = Math.floor(Math.log(size) / Math.log(1024));\n        return (size / Math.pow(1024, i)).toFixed(2) + ' ' + ['B', 'kB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'][i];\n    }\n    function dragndropLinkClickHandler(e) {\n        e.preventDefault();\n        $('input[type=\"file\"]').trigger('click');\n    }\n    function restoreDefaultPreview() {\n        $('#dragndrop-link').on('click', dragndropLinkClickHandler);\n        $('#dragndrop-link').attr('href', '#');\n        $('#dragndrop-text').html(defaultPreview);\n    }\n    function createPreview(file) {\n        $('#dragndrop-link').removeAttr('href').off('click');\n        $('#dragndrop-text').html('<video id=\"video_preview\" src=\"' + URL.createObjectURL(file) + '\" autoplay controls loop></video><span class=\"upload-info\">' + file.name + ' &mdash; ' + humanFileSize(file.size) + ' &mdash; <a id=\"dragndrop-clear\" class=\"fa fa-times\" href=\"#\"></a></span><div class=\"progress progress-striped\" style=\"display: none; margin-left: 10px; margin-right: 10px;\"><div class=\"progress-bar progress-bar-custom\" role=\"progressbar\" aria-valuenow=\"0\" aria-valuemin=\"0\" aria-valuemax=\"100\"><span class=\"upload-info sr-only\">0%</span></div></div><span class=\"upload-info\"><span id=\"upload-stats\" style=\"display: none;\"></span></span>');\n        $('#video_preview').prop('volume', 0);\n        $('#dragndrop-clear').on('click', function(e) {\n            e.preventDefault();\n            e.stopPropagation();\n            currentFile = null;\n            $(this).off('click');\n            applyDefaultDragNDropCSS();\n            restoreDefaultPreview();\n            if(jqXHR && jqXHR.statusText != \"abort\") {\n                jqXHR.abort();\n                jqXHR = null;\n            }\n        });\n    }\n    function checkFile(file) {\n        var maxFileSize = 1e8;\n        var tooBig = file.size > maxFileSize;\n        var invalid = file.type !== \"video/webm\";\n        if((tooBig && $('#dragndrop').data('uploadlimit')) || invalid) {\n            flash('error', invalid ? 'Invalid file' : `File too big. Max ${humanFileSize(maxFileSize)}`);\n            applyDefaultDragNDropCSS();\n            return false;\n        }\n        return true;\n    }\n    function submitForm(interpret, songtitle, imgsource, category, tags, file) {\n        var lastState = {\n            'loaded': 0,\n            'secondsElapsed': 0\n        };\n        var speed = [];\n        var lastSpeedIndex = 0;\n        function interval() {\n            var avgSpeed = 0;\n            var length = speed.length;\n            var i;\n            for(i = lastSpeedIndex; i < length; i++)\n                avgSpeed += speed[i];\n            avgSpeed = avgSpeed / (i - lastSpeedIndex);\n            lastSpeedIndex = i;\n            $('#upload-stats').text('Speed: ' + humanFileSize(Math.floor(avgSpeed)) + '/s Uploaded: ' + humanFileSize(lastState.loaded));\n        }\n        var statsInterval;\n        var formData = new FormData();\n        formData.append('interpret', interpret);\n        formData.append('songtitle', songtitle);\n        formData.append('imgsource', imgsource);\n        formData.append('category', category);\n        formData.append('tags', tags);\n        formData.append('file', file);\n        $('.progress-striped, #upload-stats').css('opacity', 0).slideDown('fast').animate({opacity: 1}, {queue: false, duration: 'fast'});\n        jqXHR = $.ajax({\n            url: '/api/upload',\n            type: 'POST',\n            data: formData,\n            processData: false,\n            contentType: false,\n            success: function(cb) {\n                switch(cb.error) {\n                    case 'null':\n                        if(cb.video_id) {\n                            flash('success', 'Upload successful: <a href=\"/' + cb.video_id + '\">/' + cb.video_id + '</a>. Redirect in 3 seconds...');\n                            setTimeout(function() {\n                                location.href = '/' + cb.video_id;\n                            }, 3000);\n                        }\n                        else\n                            flash('error', 'Upload failed');\n                        break;\n                    case 'invalid_request':\n                        flash('error', 'Invalid request');\n                        break;\n                    case 'not_logged_in':\n                        flash('error', 'Not logged in');\n                        break;\n                    case 'uploadlimit_reached':\n                        flash('error', 'Uploadlimit reached');\n                        break;\n                    case 'invalid_file':\n                        flash('error', 'Invalid file');\n                        break;\n                    case 'file_too_big':\n                        flash('error', 'File too big. Max 30MB');\n                        break;\n                    case 'already_exists':\n                        if(cb.video_id)\n                            flash('error', 'Video already exists: <a href=\"/' + cb.video_id + '\">/' + cb.video_id + '</a>');\n                        else\n                            flash('error', 'Video already existed but has been deleted');\n                        break;\n                    case 'erroneous_file_encoding':\n                        flash('error', 'Erroneous file encoding. <a href=\"/webm\">Try reencoding it</a>');\n                        break;\n                    default:\n                        flash('error', 'Upload failed');\n                        break;\n                }\n                if(cb.error != 'null') {\n                    $('.progress-bar-custom').css('background-color', 'red');\n                    $('.progress-bar-custom').text('Upload failed');\n                }\n                $('#upload-stats').text('Speed: ' + humanFileSize(Math.floor(speed.average())) + '/s Uploaded: ' + humanFileSize(currentFile.size));\n            },\n            error: function(jqXHR, status, error) {\n                jqXHR = null;\n                if(error == 'abort') {\n                    flash('info', 'Upload aborted');\n                    return;\n                }\n                flash('error', 'Upload failed');\n                $('.progress-bar-custom').css('background-color', 'red');\n                $('.progress-bar-custom').text('Upload failed');\n            },\n            complete: function() {\n                clearInterval(statsInterval);\n            },\n            xhr: function() {\n                var xhr = $.ajaxSettings.xhr();\n                var started_at = new Date();\n                $('.progress-bar-custom').css('background-color', 'rgba(47, 196, 47, 1)');\n                xhr.upload.onprogress = function(e) {\n                    var percentage = Math.floor(e.loaded / e.total * 100);\n                    var secondsElapsed = (new Date().getTime() - started_at.getTime()) / 1000;\n                    var bytesPerSecond = (e.loaded - lastState.loaded) / (secondsElapsed - lastState.secondsElapsed);\n                    $('.progress-bar-custom').css('width', percentage + '%');\n                    $('.progress-bar-custom').text(percentage + '%');\n                    lastState.secondsElapsed = secondsElapsed;\n                    lastState.loaded = e.loaded;\n                    speed.push(bytesPerSecond);\n                    if(!statsInterval) {\n                        interval();\n                        statsInterval = setInterval(interval, 500);\n                    }\n                };\n                return xhr;\n            }\n        });\n    }\n    $('input[type=\"file\"]').on('change', function(e) {\n        if(!this.files.length)\n            return;\n        var file = this.files[0];\n        if(checkFile(file)) {\n            currentFile = file;\n            createPreview(file);\n        }\n        $(this).wrap('<form>').closest('form').get(0).reset();\n        $(this).unwrap();\n    });\n    $('#dragndrop-link').on('click', dragndropLinkClickHandler);\n    $(document).on('dragenter', function(e) {\n        e.preventDefault();\n        counter++;\n        var dt = e.originalEvent.dataTransfer;\n        if(dt.types != null && (dt.types.indexOf ? dt.types.indexOf('Files') === 0 : dt.types.contains('application/x-moz-file'))) {\n            $('#dragndrop').css({\n                'color': '#BBB',\n                'border-color': '#656464',\n                'background-color': '#323234'\n            });\n        }\n    }).on('dragleave', function() {\n        counter--;\n        if(counter === 0)\n            applyDefaultDragNDropCSS();\n    }).on('dragover', function(e) {\n        e.preventDefault();\n    }).on('drop', function(e) {\n        e.preventDefault();\n        if(!$(e.target).is('#dragndrop-text')) {\n            applyDefaultDragNDropCSS();\n        }\n    });\n    $('#dragndrop-text').on('dragover', function(e) {\n        var dt = e.originalEvent.dataTransfer;\n        var effect = dt.effectAllowed;\n        dt.dropEffect = 'move' === effect || 'linkMove' === effect ? 'move' : 'copy';\n    }).on('drop', function(e) {\n        if(!e.originalEvent.dataTransfer.files.length)\n            return;\n        if(jqXHR && jqXHR.statusText != \"abort\") {\n            jqXHR.abort();\n            currentFile = null;\n            restoreDefaultPreview();\n        }\n        var file = e.originalEvent.dataTransfer.files[0];\n        applyDefaultDragNDropCSS();\n        if(checkFile(file)) {\n            currentFile = file;\n            createPreview(file);\n            counter = 0;\n        }\n    });\n    $('button#btn-upload').on('click', function() {\n        if(!currentFile) {\n            flash('error', 'No file selected');\n            return;\n        }\n        if(jqXHR && (jqXHR.readyState == 0 || jqXHR.readyState == 1 || jqXHR.readyState == 3)) {\n            flash('info', 'Already uploading');\n            return;\n        }\n        submitForm($('#interpret').val(), $('#songtitle').val(), $('#imgsource').val(), $('#category').val(), tags.tagsinput('items'), currentFile);\n    });\n    tags.on('itemRemoved', function(e) {\n        if(e.item === 'nsfw') {\n            nsfwCheckbox.prop('checked', false);\n            $(this).tagsinput('add', 'sfw');\n        }\n        else if(e.item === 'sfw') {\n            nsfwCheckbox.prop('checked', true);\n            $(this).tagsinput('add', 'nsfw');\n        }\n    });\n    nsfwCheckbox.on('change', function() {\n        if(this.checked) {\n            tags.tagsinput('remove', 'sfw');\n            tags.tagsinput('add', 'nsfw');\n        }\n        else {\n            tags.tagsinput('remove', 'nsfw');\n            tags.tagsinput('add', 'sfw');\n        }\n    });\n    nsfwCheckbox.trigger('change');\n});\n\n$(function() {\n    $('#delete_video').on('click', function(e) {\n        e.preventDefault();\n        do {\n            var reason = prompt('Reason for deleting video ' + video.id + ' by ' + video.user);\n            if(reason === null)\n                return;\n            reason = reason.trim();\n        } while(!reason);\n        video.delete(reason, (success, error, warnings) => {\n            if(success) {\n                flash('success', 'Video deleted. Redirect in 3 seconds...');\n                setTimeout(() => location.href = '/', 3000);\n                for(let warn of warnings)\n                    flash('warning', warn);\n            }\n            else\n                flash('error', 'Error deleting video');\n        });\n    });\n});\n\n  function formatText(tag) {\n  var Field = document.getElementById('cinput');\n  var val = Field.value;\n  var selected_txt = val.substring(Field.selectionStart, Field.selectionEnd);\n  var before_txt = val.substring(0, Field.selectionStart);\n  var after_txt = val.substr(Field.selectionEnd);\n  var str1 = before_txt + '[' + tag + ']' + selected_txt;\n  var len = str1.length;\n  Field.value = str1 + '[/' + tag + ']' + after_txt;\n  Field.focus();\n  Field.setSelectionRange(len, len);\n}\n"]}